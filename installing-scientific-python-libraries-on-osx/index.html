<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="description" content="Tales of a Fractal Spectrum, ">

        <link rel="alternate" href="http://www.mseri.me/feed/atom.xml" type="application/atom+xml" title="Tales of a Fractal Spectrum Atom Feed"/>
        <link rel="alternate" href="http://www.mseri.me/feed/rss.xml" type="application/rss+xml" title="Tales of a Fractal Spectrum RSS Feed"/>

        <title>Installing scientific python libraries on OSX - Tales of a Fractal Spectrum</title>



    <meta property="og:type" content="article" />
    <meta property="og:title" content="Installing scientific python libraries on OSX" />
    <meta property="og:description" content="For a recent project, I had the necessity to install (or update) some of the scientific python libraries that I use for computation (and to avoit matlab). I was aware of a not too recent tutorial in regard that left me quit unhappy at the time, in particular I strongly ..." />

        <link rel="shortcut icon" href="http://www.mseri.me/images/gauss_logo.png" />

    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Open+Sans:700,400" />
    <link rel="stylesheet" href="http://www.mseri.me/theme/css/style-min.css">
    <!--<link rel="stylesheet" href="http://www.mseri.me/theme/css/pygments.css">-->

</head>
<body itemscope itemtype="http://schema.org/WebPage">
    <div class="pure-g-r" id="layout">
        <div class="sidebar pure-u">
            <header class="header">
                <hgroup>
                        <a id="blog-logo" href="http://www.mseri.me"><img src="http://www.mseri.me/images/gauss_logo.png" alt="Blog Logo" /></a>
                    <h1 itemprop="name" class="blog-title"><a href="http://www.mseri.me">Tales of a Fractal Spectrum</a></h1>
                        <h2 itemprop="description" class="blog-description">Free thoughts of a geeky mathematician</h2>
                </hgroup>
<nav class="nav">
  <ul class="social-list">
<li class="social-item"><a class="subscribe icon-twitter" href="http://www.twitter.com/marcelloseri" target="_blank"></a></li>&nbsp;<li class="social-item"><a class="subscribe icon-facebook" href="http://www.facebook.com/marcello.seri" target="_blank"></a></li>&nbsp;<li class="social-item"><a class="subscribe icon-google-plus" href="http://plus.google.com/+MarcelloSeri" target="_blank" rel="publisher"></a></li>&nbsp;<li class="social-item"><a class="subscribe icon-github" href="http://www.github.com/mseri" target="_blank"></a></li>&nbsp;    <li class="social-item">&nbsp;</li>
    <li class="social-item"><a class="subscribe icon-feed" href="http://www.mseri.me/feed/rss.xml" target="_blank"></a></li>
</ul>
</nav>
            </header>
            <footer class="footer">
                <section class="copyright">&copy; 2013--2015 <a itemscope="copyrightHolder" href="http://www.mseri.me">Tales of a Fractal Spectrum</a></section>
                <section class="poweredby">Proudly published with Pelican on GitHub Pages.</section> 
                <section class="theme"><a href="https://github.com/mseri/pelican-purity" target="_blank">Purity</a> is built with <a href="http://purecss.io" target="_blank">PureCSS</a>.</section>
            </footer>
            
        </div>
        <div class="pure-u-1 container">
            
<main class="content" role="main" id="top-post">
        <div class="back">
            <a href="http://www.mseri.me">&larr;  back to the home page</a>
        </div>

    <article itemscope itemtype="http://schema.org/Article" class="post purity_post">

        <header class="post-header">
            <h2 itemprop="name" class="post-title big">Installing scientific python libraries on OSX</h2>
            <p class="post-meta">Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Marcello Seri</span></span> the <time itemprop="datePublished" datetime="19 Feb 2014">19 Feb 2014</time> - <span class="post-tagline"> under                                 <a class="post-category" href="http://www.mseri.me/tag/tutorial.html">tutorial</a>,                                 <a class="post-category" href="http://www.mseri.me/tag/homebrew.html">homebrew</a>,                                 <a class="post-category" href="http://www.mseri.me/tag/matplotlib.html">matplotlib</a>,                                 <a class="post-category" href="http://www.mseri.me/tag/numpy.html">numpy</a>. </span></p>
        </header>

        <section class="post-content">

        <div class="post-share-box">
            <section class="share">
                <h3>Share this post</h3>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://www.mseri.me/installing-scientific-python-libraries-on-osx/"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-twitter" href="http://twitter.com/share?text=Installing scientific python libraries on OSX&url=http://www.mseri.me/installing-scientific-python-libraries-on-osx/"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://www.mseri.me/installing-scientific-python-libraries-on-osx/"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
        </div>

        <div itemprop="articleBody">
            <p>For a recent project, I had the necessity to install (or update) some of the scientific python libraries that I use for computation (and to avoit matlab). I was  aware of <a href="http://www.thisisthegreenroom.com/2011/installing-python-numpy-scipy-matplotlib-and-ipython-on-lion/">a not too recent tutorial</a> in regard that left me quit unhappy at the time, in particular I strongly disagree with their practice of changing OSX official symlinks to point at the new Python install. </p>
<p>Given that I am not alone in the project, I decided to write a short tutorial trying to include all the necessary steps for a successful installation of python, numpy, scipy, matplotlib, ipython and qutip.</p>
<h2>Get XCode</h2>
<p>The first essential step is to make sure that you have installed <a href="https://developer.apple.com/xcode/">XCode</a> (since OSX Lion you will find it on the AppStore). If you don't or you don't know what we are talking about I refer you to Google (or DuckDuckGo). A priori we will just need the command line tools.</p>
<h2>Convert yourself to Homebrew</h2>
<p>Then let's install a serious package manager, and with this I really mean: install <a href="http://brew.sh">Homebrew</a>!</p>
<p>If you don't have it yet, open a Terminal and install it copying and pasting the following code:</p>
<div class="highlight"><pre>ruby -e <span class="s2">&quot;</span><span class="k">$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install<span class="k">)</span><span class="s2">&quot;</span>
</pre></div>


<p>You shouldn't need  <code>sudo</code> for the installation, everything will be nicely located in <code>/usr/local</code>. When the execution ends add this to your <code>.profile</code> (or <code>/bash_profile</code> or <code>.zsh_profile</code> or the equivalent for your shell):</p>
<div class="highlight"><pre><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span>/usr/local/bin:<span class="nv">$PATH</span>
</pre></div>


<h2>Install gfortran</h2>
<p>We will not use it directly but it will be required to install scipy and it is going to take some time, so let's deal with it now. <strong>Close and reopen the terminal to reload the new environment's variables</strong> and run:</p>
<div class="highlight"><pre>brew install gfortran
</pre></div>


<p>Easy, no?? Now just wait for the magic to happen.</p>
<h2>Install an updated version of Python</h2>
<p>I know that OSX is shipped with its own python install, but that's the outdated system one. Leave it to the system and do not mess with it! We are going to install a more recent version of python in parallel. With Homebrew is  very simple, just execute the following command.</p>
<div class="highlight"><pre>brew install python
</pre></div>


<p>If you did everything correctly, running <code>which python</code> you should read <code>/usr/local/bin/python</code>. And now that we have python, let's install a nice package manager for it. Install pip with <code>easy_install pip</code>.</p>
<h2>Install numpy and scipy</h2>
<p>That's now very easy with pip:</p>
<div class="highlight"><pre>pip install numpy
pip install scipy
</pre></div>


<p>(I run them separately to have a more direct control of the possible errors)</p>
<p>There are some possible problems here. On my laptop and my office computer I had <code>gfortran</code> complaining with the following error</p>
<div class="highlight"><pre>gfortran: error: libgfortran.spec: No such file or directory
</pre></div>


<p>I could fix the problem with</p>
<div class="highlight"><pre>brew link --overwrite gfortran
</pre></div>


<p>Moreover, in an old installation, I had randomlike errors appearing here and then. I don't really know the cause, but I temporarily solved installing the development version of scipy</p>
<div class="highlight"><pre>pip install -e git+https://github.com/scipy/scipy#egg<span class="o">=</span>scipy-dev
</pre></div>


<p>Give it a try if you keep having troubles.</p>
<h2>Install matplotlib</h2>
<p>For this you will first need to install pkg-config. But it's as easy as</p>
<div class="highlight"><pre>brew install pkg-config
</pre></div>


<p>After it finishes its job, simply run</p>
<div class="highlight"><pre>pip install matplotlib
</pre></div>


<p>Note that if you keep having an error related to <code>png.h</code> you may want to <code>brew install lipng</code> or, as I've read on stackoverflow I think, <code>brew install freetype</code>. Additionally, if you get an error related to freetype headers, you have to do the following:</p>
<div class="highlight"><pre>sudo ln -s  /usr/local/include/freetype2/ /usr/include/freetype
</pre></div>


<p>If you are still not able to install it, try the development version like I suggested for scipy:</p>
<div class="highlight"><pre>pip install git+git://github.com/matplotlib/matplotlib.git
</pre></div>


<h2>Almost done</h2>
<p>Hopefully everything is installed properly now. Run python and try the following imports</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">scipy</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
</pre></div>


<p>They should proceed with no errors.</p>
<h2>Last but not least</h2>
<p>To have a nicer interface to test our code I strongly encourage you to install ipython. Simply run </p>
<div class="highlight"><pre>pip install ipython
</pre></div>


<p>and the next time you will need the python intepreter use</p>
<div class="highlight"><pre>ipython
</pre></div>


<p>Have fun!!!</p>
<hr />
<h2>A final remark for Max</h2>
<p>We are probably going to use <a href="http://qutip.org">QuTiP</a> too. Its setup is quite straightforward, simply run</p>
<div class="highlight"><pre>pip install cython
pip install qutip
</pre></div>


<p>and it's installed. You can test the installation pasting the following code in ipython (courtesy of <a href="http://nbviewer.ipython.org/github/jrjohansson/qutip-lectures/blob/master/Lecture-0-Introduction-to-QuTiP.ipynb">Introduction to QuTiP</a>)</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">qutip</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">Qobj</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">q</span>
</pre></div>


<p>If you get as output </p>
<div class="highlight"><pre>Quantum object: dims = [[2], [1]], shape = [2, 1], type = ket
Qobj data =
[[ 1.]
 [ 0.]]
</pre></div>


<p>then the installation was fine.</p>
<p>Have a look at the official <a href="http://qutip.org/tutorials.html">Tutorials page</a> it is quite fun!</p>
<hr />
<p>Edit: updated Homebrew install link</p>
        </div>
        
        </section>

<section class="post-comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE UNCOMMENTING THE THEME * * */
    var disqus_shortname = 'talesofafractalspectrum'; // required: replace example with your forum shortname
    // make sure to use the post.id as an identifier, 
    //otherwise disqus will use the pages url per default, 
    //which might be problematic...
    var disqus_identifier = '28';

    /* * * DON'T EDIT BELOW THIS LINE * * */

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>



    </article>
    
    <script type="text/javascript">
        document.getElementById( 'top-post' ).scrollIntoView();
    </script>

</main>
            
        </div>
    </div>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']]
    }
  });
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-44365202-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>